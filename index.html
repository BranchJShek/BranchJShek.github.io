<!DOCTYPE html>
<html>
	<head>
	<title>Branch JShek</title>
	<meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta property="og:title" content="JShek Home Page" />
    <meta property="og:url" content="http://branchjshek.github.io" />
    <meta name="branch:deeplink:deeplink_path" content="jshek/nav_to/main" />
    <meta name="branch:deeplink:fallback_url" content="https://www.google.com/images" />
    <link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml">
    <link rel="stylesheet" href="css/bootstrap.css">
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/styles.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/font-awesome/css/font-awesome.min.css">
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
    <link href="//fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet" type="text/css">

    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/bootstrap.js"></script>

    <!-- Branch Web SDK -->
    <script type="text/javascript">

    (function(b,r,a,n,c,h,_,s,d,k){if(!b[n]||!b[n]._q){for(;s<_.length;)c(h,_[s++]);d=r.createElement(a);d.async=1;d.src="https://cdn.branch.io/branch-latest.min.js";k=r.getElementsByTagName(a)[0];k.parentNode.insertBefore(d,k);b[n]=h}})(window,document,"script","branch",function(b,r){b[r]=function(){b._q.push([r,arguments])}},{_q:[],_v:1},"addListener applyCode autoAppIndex banner closeBanner closeJourney creditHistory credits data deepview deepviewCta first getCode init link logout redeem referrals removeListener sendSMS setBranchViewData setIdentity track validateCode trackCommerceEvent logEvent disableTracking getBrowserFingerprintId".split(" "), 0);

    // .init call to launch banner
    branch.init('key_live_boOy006UfmG8sSdAqwNcYmmftyeYrJpc', 
        branch.setIdentity("test123"),
        {
            metadata: {
                'jon' : 'shek',
                'page' : 'index',
                '$utm_content' : 'content',
                '$utm_term' : 'term'
        }
    });

    // log commerce event to see if revenue metadata shows for non-Purchase event
    var commerceData = {
     "transaction_id": "trans_id_123",
     "currency": "USD",
     "revenue": 180.2,
     "shipping": 10.5,
     "tax": 13.5,
     "description": "Logging commerce event to see if revenue metadata shows for non-Purchase event",
     "purchase_loc": "Palo Alto",
     "store_pickup": "unavailable"
    }; 

    function revenueTrack() {
      branch.logEvent("INITIATE_PURCHASE"),
      commerceData,
      function(err) { console.log(err) };
      console.log("Event Tracked")
    };

    </script>

    <!-- Hosted Deep Link Data -->
    <meta name="branch:deeplink:monster_name" content="Bingles"/>
    <meta name="branch:deeplink:face_index" content="1"/>
    <meta name="branch:deeplink:body_index" content="1">
    <meta name="branch:deeplink:color_index" content="1">

	</head>
	
	<body class="hero-image">
 	<div>
    <nav class="navbar navbar-expand navbar-dark bg-dark">
      <a class="navbar-brand" href="#">Home Page</a>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item active">
            <a class="nav-link" href="index.html">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="about.html">About</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="info.html">Info</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="personal.html">Contact</a>
          </li>
        </ul>
      </div>
    </nav>
  </div><br>

    <div class="position-relative p-3 p-md-5 m-md-3 text-center">
      <div class="col-md-6 p-lg-6 mx-auto my-5 hero-text">
        <h1 class="display-5 font-weight-normal">Branch JShek</h1>
        <p class="lead font-weight-normal">
          Home Page
        </p>
      </div>
    </div>

    <div class="card-deck text-center">
      <div class="card">
        <div class="card-header">
          <h5 class="card-title">Branch Test Examples</h5>
        </div>
        <div class="card-body">
          <p class="card-text"><a href="https://branchjshek.github.io/amp/amp.html" target="_blank">AMP Demo Site</a><br>
        <a href="https://branchjshek.github.io/text" target="_blank">TMTA Example</a></p>
        </div>
        <div class="card-footer">
          <small class="text-muted">Examples</small>
        </div>
      </div>
      <div class="card">
        <div class="card-header">
          <h5 class="card-title">Link Creators</h5>
        </div>
        <div class="card-body">
          <p class="card-text">
            <b><a href="https://branch-makealink.github.io" target="_blank">Learn how to make a Branch link!</a></b><br><br>
            <a href="https://branchjshek.github.io/nbalinkcreator" target="_blank">NBA International Link Creator</a><br>
            <a href="https://branchjshek.github.io/globalNBA" target="_blank">Global NBA Link Creator</a><br>
          </p>
        </div>
        <div class="card-footer">
          <small class="text-muted">Link Creation Tools</small>
        </div>
      </div>
      <div class="card">
        <div class="card-header">
            <h5 class="card-title">Reference</h5>
          </div>
        <div class="card-body">
          <p class="card-text">
            <a href="https://help.branch.io" title="Branch Docs">Branch Docs</a><br>
            <a href="https://help.branch.io/developers-hub/docs/ios-full-reference" title="Branch iOS">Branch iOS</a><br>
            <a href="https://help.branch.io/developers-hub/docs/android-full-reference" title="Branch Android">Branch Android</a>
          </p>
        </div>
        <div class="card-footer">
          <small class="text-muted">Docs</small>
        </div>
      </div>
    </div>  

    <footer class="container py-5">
      <div class="row">
        <div class="col-6 col-md-4">
          <h5>Features</h5>
          <ul class="list-unstyled text-small">
            <li><a href="https://branch.io/journeys/">Journeys</a></li>
            <li><a href="https://branch.io/universal-ads/">Universal Ads</a></li>
            <li><a href="https://branch.io/universal-email/">Universal Email</a>
            </li>
        	<li><a href="https://branch.io/data-feeds/">Data Feeds</a></li>
          </ul>
        </div>
        <div class="col-6 col-md-4">
          <h5>Resources</h5>
          <ul class="list-unstyled text-small">
            <li><a href="https://branch.io/resources/">Resource Library</a></li>
            <li><a href="https://branch.io/resources/case-study/">Case Studies</a></li>
            <li><a href="https://branch.io/resources/webinar/">Webinars</a></li>
            <li><a href="https://branch.io/resources/white-paper/">White Papers</a></li>
            <li><a href="https://blog.branch.io/">Blog</a></li>
          </ul>
        </div>
        <div class="col-6 col-md-4">
          <h5>About</h5>
          <ul class="list-unstyled text-small">
            <li><a href="https://branch.io/contact-sales/">Contact Sales</a></li>
          </ul>
        </div>
      </div>

      <main role="main" class="container">



    </main>
    </footer>

	<!-- Branch javascript -->
    <script>

    function identityCheck() {
        const testId = 'abc123';
        branch.setIdentity(testId);
        document.getElementById('setIdentity').innerText = testId;
        branch.logEvent('pageview',{id:testId})
    }
    
    // Branch listener object that retrieves banner link data and prints it to console
    var listener = function(event, data) {
        console.log(event + ' fired at ' + Math.floor(Date.now() / 1000));
        console.log(data);
    };


    // Listener objects are activated in the Branch instance for specific events via .addListener
    branch.addListener("willShowJourney", listener);
    branch.addListener("didShowJourney", listener);
    branch.addListener("willNotShowJourney", listener);
    branch.addListener("didClickJourneyCTA", listener);
    branch.addListener("didClickJourneyClose", listener);
    branch.addListener("willCloseJourney", listener);
    branch.addListener("didCloseJourney", listener);
    branch.addListener("didCallJourneyClose", listener);
    

    // function to manually launch journey and change banner link data (will NOT launch if banner's dismissal period active)
    function launchBranchJourney(){
        var linkData = {
            campaign: 'campaign cannot be changed',
            feature: 'feature cannot be changed',
            channel: 'channel was changed by javascript',
            stage: 'stage was changed by javascript',
            tags: ['tag was changed by javascript'],
            data: {
                'custom_bool': true,
                'custom_int (today\s date)': Date.now(),
                'custom_string (url)': window.location.href,
                '$journeys_icon_image_url':'https://www.valorebooks.com/campus-life/wp-content/uploads/icon_340.png',
                '$journeys_button_get_no_app':'changed!',
                '$journeys_button_get_has_app':'changed!',
                '$journeys_description':'Description reset by button click'
            }
        };
        branch.setBranchViewData(linkData);
        //function to launch journey with flags to disable banner animations
        branch.track('pageview',{},{'disable_entry_animation':true,'disable_exit_animation':true});
    }

    //function to check if a banner is displaying
    function doesJourneyExistOnPage() {
        var elem = document.getElementById("branch-banner-iframe");
        if (elem) {
            return true;
        }
        return false;
    }

    // function for button to close journey (will NOT activate template's dismissal period)
    function closeBranchJourney(){        
        if(doesJourneyExistOnPage()){
            //this is the call that closes the journey, with flags that disable the banner animations
            console.log("closeBranchJourney called");
            branch.closeJourney(function(err) {});
        } else {
            console.log("No Banner on the page");
        }
    }

    // function to test deepview function
    function dataCallback(){
        console.log(".data() called");
        branch.data(function(err, data) {
            console.log(data);
        });
    }

    </script>

	</body>
</html>